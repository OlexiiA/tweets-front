import{r as a,u as y,c as b,b as f,i as j,j as t,k as w}from"./index-4d0f3cfb.js";const v=()=>{const[i,n]=a.useState(""),[o,r]=a.useState(""),[l,x]=a.useState(""),[s,m]=a.useState(""),u=y(),p=b(),c=f(),d=a.useCallback(async()=>{const{data:e}=await j.get(`/tweets/${c.id}`);n(e.title),r(e.text),x(e.imageUrl)},[c.id]);a.useEffect(()=>{d()},[d]);const g=()=>{try{const e=new FormData;e.append("title",i),e.append("text",o),e.append("id",c.id),e.append("image",s),u(w(e)),p("/tweets")}catch(e){console.log(e)}},h=()=>{n(""),r("")};return t.jsxs("form",{className:"w-1/3 mx-auto py-10",onSubmit:e=>e.preventDefault(),children:[t.jsxs("label",{className:"text-gray-300 py-2 bg-gray-600 text-xs mt-2 flex items-center justify-center border-2 border-dotted cursor-pointer",children:["Attach an image",t.jsx("input",{type:"file",className:"hidden",onChange:e=>{m(e.target.files[0]),x("")}})]}),t.jsxs("div",{className:"object-cover flex items-center h-full rounded-sm",children:[l&&t.jsx("img",{src:`https://tweets-api-sztu.onrender.com/${l}`,alt:l.name}),s&&t.jsx("img",{src:URL.createObjectURL(s),alt:s.name})]}),t.jsxs("label",{className:"text-xs text-white opacity-70",children:["Title tweet",t.jsx("input",{type:"text",value:i,onChange:e=>n(e.target.value),placeholder:"Write title",className:"mt-1 text-black w-full rounded-lg bg-gray-400 border py-1 px-2 text-xs outline-none placeholder:text-gray-700"})]}),t.jsxs("label",{className:"text-xs text-white opacity-70",children:["Tweet text",t.jsx("textarea",{value:o,onChange:e=>r(e.target.value),placeholder:"Write the text of the tweet",className:"mt-1 text-black w-full rounded-lg bg-gray-400 border py-1 px-2 text-xs outline-none resize-none placeholder:text-gray-700 "})]}),t.jsxs("div",{className:"flex gap-8 justify-center items-center mt-4",children:[t.jsx("button",{onClick:g,className:"flex items-center justify-center bg-gray-600 text-xs text-white rounded-sm py-2 px-4",children:"Change"}),t.jsx("button",{onClick:h,className:"flex items-center justify-center bg-red-600 text-xs text-white rounded-sm py-2 px-4",children:"Cancel"})]})]})};export{v as default};
